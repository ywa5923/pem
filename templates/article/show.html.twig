{% extends 'base.html.twig' %}

{% block title %}Article{% endblock %}

{% block pageTitle %}
    Article page
    <a href="{{ path('article_index',{article_type:article_type}) }}">back to list</a> |
    <a href="{{ path('article_edit', {'id': article.id,article_type:article_type}) }}">edit</a> |

    Created at: {{ article.createdAt|date('Y-m-d')}} |
    Updated at: {{ article.updatedAt|date('Y-m-d') }}
{% endblock %}
{% block body %}

<div class="row">
    <table class="table table-striped table-hover table-sm table-responsive-md">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ article.id }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ article.title }}</td>
            </tr>
            <tr>
                <th>Authors</th>
                <td>{{ article.authors }}</td>
            </tr>
            <tr>
                <th>Abstract</th>
                <td>{{ article.abstract }}</td>
            </tr>
            <tr>
                <th>Doi</th>
                <td>{{ article.doi }}</td>
            </tr>
            <tr>
                <th>Journal</th>
                <td>{{ article.journal }}</td>
            </tr>
            <tr>
                <th>Volume</th>
                <td>{{ article.volume }}</td>
            </tr>
            <tr>
                <th>Pages</th>
                <td>{{ article.pages}}</td>
            </tr>
            <tr>
                <th>EffectiveAuthorsNumber</th>
                <td>{{ article.effectiveAuthorsNumber }}</td>
            </tr>
            <tr>
                <th>AIS</th>
                <td>{{ article.AIS }}</td>
            </tr>
            <tr>
                <th>CorespondingAuthors</th>
                <td>{{ article.corespondingAuthors }}</td>
            </tr>
            <tr>
                <th>EmailsOfCorespondingAuthors</th>
                <td>{{ article.emailsOfCorespondingAuthors }}</td>
            </tr>
            <tr>
                <th>PrimeAuthors</th>
                <td>{{ article.primeAuthors }}</td>
            </tr>
            <tr>
                <th>PublicationDate</th>
                <td>{{ article.publicationDate ? article.publicationDate|date('Y') : 'NULL' }}</td>
            </tr>
            <tr>
                <th>TheNumberOfPrimeAuthors</th>
                <td>{{ article.theNumberOfPrimeAuthors }}</td>
            </tr>
            <tr>
                <th>TheNumberOfCorrespondingAuthors</th>
                <td>{{ article.theNumberOfCorrespondingAuthors }}</td>
            </tr>
            <tr>
                <th>Total Pages</th>
                <td>{{ article.totalPages}}</td>
            </tr>
            <tr>
                <th>ThetaFunction</th>
                <td>{{ article.thetaFunction ? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>Updated By Admin</th>
                <td>{{ article.isUpdatedByAdmin? 'Yes' : 'No' }}</td>
            </tr>
            <tr>
                <th>ArticleEmbeddedAuthors</th>
                <td>
                    {% for author in article.articleAuthors %}
                       <span class="article-author-info">
                           <i class="fas fa-user-secret"></i>
                          {{author.user.firstName~' '~author.user.lastName~': '~author.user.email }}</span>
                    {% endfor %}
                </td>
            </tr>

            <tr>
                <th>Citations</th>

                    <td>
                    {% for citation in article.citations %}
                    <div>
                        <p><b><span style="background-color: #1e7e34;color:white;padding:2px;">{{ loop.index }}</span>&nbsp;Title: </b><i>{{ citation.title}} &nbsp; <b>({{ citation.publicationDate|date('Y') }})</b></i><br>
                       <b>Authors: </b>{{ citation.authors }}<br>
                        <b>Journal: </b>{{ citation.journal }}</p>
                    </div>
                        <hr>
                    {% endfor %}
                </td>

            </tr>
        </tbody>
    </table>

</div>

    {{ include('article/_delete_form.html.twig') }}
{% endblock %}
